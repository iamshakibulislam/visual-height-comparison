<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Height Comparison</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'Font Awesome 5 Free';
            font-style: normal;
            font-weight: 900;
            src: url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/webfonts/fa-solid-900.woff2") format("woff2");
        }

        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
        }

        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            font-weight: 600;
            color: var(--primary-color) !important;
        }

        .container-fluid {
            padding: 2rem;
        }

        .sidebar {
            background: white;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            padding: 1.5rem;
        }

        .main-content {
            background: white;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            padding: 1.5rem;
        }

        .gender-btn {
            border: 2px solid #e9ecef;
            background: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .gender-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .color-option {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: transform 0.2s;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.active {
            border-color: #333;
        }

        .canvas-container {
            width: 100%;
            height: 70vh;
            position: relative;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: #fcfcfc;
            display: flex;
            overflow: hidden;
            padding: 0;
            margin: 0;
        }

        .height-scale {
            position: relative;
            width: 60px;
            border-right: 1px solid #e9ecef;
            background: white;
            flex-shrink: 0;
        }

        .right-scale {
            border-right: none;
            border-left: 1px solid #e9ecef;
        }

        .scale-mark {
            position: absolute;
            width: 100%;
            border-top: 1px solid #e9ecef;
            padding: 2px 5px;
            font-size: 12px;
            color: #6c757d;
        }

        .left-scale .scale-mark {
            text-align: left;
        }

        .right-scale .scale-mark {
            text-align: right;
        }

        canvas {
            flex-grow: 1;
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .form-control {
            border: 2px solid #e9ecef;
            padding: 0.7rem;
            border-radius: 8px;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: none;
        }

        .btn-primary {
            background: var(--primary-color);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 8px;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
        }

        .edit-panel {
            display: none;
            background: white;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .person-label {
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 8px;
            color: white;
            cursor: pointer;
        }

        .person-label .collapse {
            background: white;
            margin: 10px -10px -10px -10px;
            padding: 15px;
            border-radius: 0 0 8px 8px;
            color: #333;
        }

        .person-label .form-control {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
        }

        .person-label .color-option {
            width: 25px;
            height: 25px;
        }

        .height-label {
            position: relative;
            cursor: pointer;
        }

        .height-controls {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 4px;
            padding: 4px 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: none;
            white-space: nowrap;
        }

        .height-controls i {
            margin: 0 4px;
            cursor: pointer;
            color: #6c757d;
        }

        .height-controls i:hover {
            color: #333;
        }

        .height-label:hover .height-controls {
            display: block;
        }

        .person-label {
            margin-bottom: 10px;
            border-radius: 8px;
            overflow: hidden;
        }

        .person-label .collapse {
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .person-label .fa-times {
            cursor: pointer;
            padding: 5px;
        }

        .person-label .fa-times:hover {
            opacity: 0.8;
        }

        .edit-panel .color-option {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .edit-panel .color-option.active {
            border-color: white;
        }

        .custom-color-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #e9ecef;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .custom-color-btn:hover {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }

        .custom-color-btn i {
            color: #666;
            font-size: 14px;
        }

        .color-picker-container {
            position: relative;
        }

        .color-options {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .custom-color-wrapper {
            position: relative;
            display: inline-block;
        }

        .custom-color-input {
            position: absolute;
            width: 35px;
            height: 35px;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }

        .custom-color-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #e9ecef;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .custom-color-btn:hover {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }

        .custom-color-btn i {
            color: #666;
            font-size: 14px;
            pointer-events: none;
        }

        .edit-panel .custom-color-wrapper {
            position: relative;
            display: inline-block;
        }

        .edit-panel .custom-color-btn {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            border: 2px solid #e9ecef;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .edit-panel .custom-color-btn:hover {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }

        .edit-panel .custom-color-input {
            position: absolute;
            width: 25px;
            height: 25px;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }

        .edit-panel .custom-color-btn i {
            color: #666;
            font-size: 12px;
            pointer-events: none;
        }

        .side-nav {
            background: white;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .nav-item {
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
            user-select: none;
        }

        .nav-item:hover {
            background: #f8f9fa;
        }

        .nav-item.active {
            background: #f8f9fa;
            color: var(--primary-color);
            font-weight: 500;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
        }

        .content-section {
            transition: all 0.3s ease;
        }

        .person-label {
            border-radius: 8px;
            color: white;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .person-label .collapse {
            background: white;
            color: #333;
            padding: 1rem;
        }
        .edit-person-btn {
            padding: 0.25rem 0.5rem;
            color: white !important;
        }
        .edit-person-btn:hover {
            opacity: 0.8;
        }
        .person-label .form-control {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
        }
        .person-label .color-option {
            width: 25px;
            height: 25px;
        }
        .person-label .custom-color-btn {
            width: 25px;
            height: 25px;
        }
        .person-label .custom-color-input {
            width: 25px;
            height: 25px;
        }

        .suggestion-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .suggestion-item {
            padding: 8px 12px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }
        .suggestion-item:hover {
            background: #f5f5f5;
        }
        .suggestion-item .name {
            font-weight: 500;
        }
        .suggestion-item .details {
            font-size: 0.8em;
            color: #666;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-ruler-vertical me-2"></i>
                Height Comparison
            </a>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row g-4">
            <div class="col-md-3">
                <div class="side-nav mb-3">
                    <div class="nav-item active" data-target="addPerson">
                        <i class="fas fa-user-plus"></i>
                        <span>Add Person</span>
                    </div>
                    <div class="nav-item" data-target="celebrities">
                        <i class="fas fa-star"></i>
                        <span>Celebrities</span>
                    </div>
                </div>

                <div id="addPersonContent" class="content-section">
                    <div class="sidebar">
                        <h5 class="mb-4">Add New Person</h5>
                        <div class="mb-4">
                            <div class="d-flex gap-2 mb-3">
                                <button class="gender-btn flex-grow-1 active" data-gender="male">
                                    <i class="fas fa-male me-2"></i>Male
                                </button>
                                <button class="gender-btn flex-grow-1" data-gender="female">
                                    <i class="fas fa-female me-2"></i>Female
                                </button>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Name (Optional)</label>
                                <input type="text" id="name" class="form-control" placeholder="Enter name">
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Height</label>
                                <div class="d-flex gap-2">
                                    <input type="number" id="feet" class="form-control" placeholder="ft">
                                    <input type="number" id="inches" class="form-control" placeholder="in">
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Choose Color</label>
                            <div class="d-flex gap-2 flex-wrap align-items-center color-picker-container">
                                <div class="color-options">
                                    <div class="color-option" style="background: #4361ee"></div>
                                    <div class="color-option" style="background: #3a0ca3"></div>
                                    <div class="color-option" style="background: #f72585"></div>
                                    <div class="color-option" style="background: #4cc9f0"></div>
                                    <div class="color-option" style="background: #7209b7"></div>
                                </div>
                                <div class="custom-color-wrapper">
                                    <button class="custom-color-btn" id="customColorBtn">
                                        <i class="fas fa-pencil-alt"></i>
                                    </button>
                                    <input type="color" id="colorPicker" class="custom-color-input">
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary w-100" id="addPerson">
                            <i class="fas fa-plus me-2"></i>Add Person
                        </button>
                    </div>
                </div>

                <div id="celebritiesContent" class="content-section d-none">
                    <div class="sidebar">
                        <h5 class="mb-4">Add Celebrity</h5>
                        <div class="mb-4">
                            <div class="mb-3">
                                <label class="form-label">Celebrity Name</label>
                                <div class="position-relative">
                                    <input type="text" id="celebrityName" class="form-control" placeholder="Enter celebrity name">
                                    <div id="celebritySuggestions" class="suggestion-dropdown d-none">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Choose Color</label>
                            <div class="d-flex gap-2 flex-wrap align-items-center color-picker-container">
                                <div class="color-options">
                                    <div class="color-option" style="background: #4361ee"></div>
                                    <div class="color-option" style="background: #3a0ca3"></div>
                                    <div class="color-option" style="background: #f72585"></div>
                                    <div class="color-option" style="background: #4cc9f0"></div>
                                    <div class="color-option" style="background: #7209b7"></div>
                                </div>
                                <div class="custom-color-wrapper">
                                    <button class="custom-color-btn" id="celebrityCustomColorBtn">
                                        <i class="fas fa-pencil-alt"></i>
                                    </button>
                                    <input type="color" id="celebrityColorPicker" class="custom-color-input">
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary w-100" id="addCelebrity">
                            <i class="fas fa-plus me-2"></i>Add Celebrity
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-md-9">
                <div class="main-content">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-secondary" id="clearAll">
                                <i class="fas fa-trash-alt me-2"></i>Clear All
                            </button>
                            <button class="btn btn-outline-primary" id="editMode">
                                <i class="fas fa-edit me-2"></i>Edit
                            </button>
                        </div>
                        <button class="btn btn-primary" id="shareBtn">
                            <i class="fas fa-share-alt me-2"></i>Share
                        </button>
                    </div>

                    <div class="canvas-container">
                        <canvas id="heightCanvas"></canvas>
                        <div class="height-scale right-scale" id="heightScaleFt"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize canvas and variables
        const canvas = document.getElementById('heightCanvas');
        const ctx = canvas.getContext('2d');
        let selectedColor = null;
        let selectedGender = 'male';
        let hoveredLabel = -1;
        const people = [];
        let deleteButtonAreas = [];
        let isDrawing = false;

        // Draw height measurement lines and labels
        function drawHeightScales() {
            const maxHeight = 339;  // Set to 339 cm
            const heightPx = canvas.height;
            // Generate heights array from 339 down to 0 in steps of 17
            const heights = [];
            for (let h = 339; h >= 0; h -= 17) {
                heights.push(h);
            }
            if (heights[heights.length - 1] !== 0) {
                heights.push(0);
            }

            // Clear canvas first
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw grid lines for each specific height
            heights.forEach(h => {
                const position = heightPx - (h * heightPx / maxHeight);
                
                // Draw line across entire canvas width
                ctx.beginPath();
                ctx.strokeStyle = '#000000';
                ctx.lineWidth = 0.5;
                ctx.moveTo(0, position);
                ctx.lineTo(canvas.width, position);
                ctx.stroke();

                // Add cm label directly on canvas
                ctx.fillStyle = '#000000';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(`${h}`, 5, position - 5);

                // Add feet/inches label on the right side
                const feet = Math.floor(h/30.48);
                const inches = Math.round((h/2.54)%12);
                const rightLabel = `${feet}'${inches}"`;
                
                // Draw right side label directly on canvas
                ctx.textAlign = 'right';
                ctx.fillText(rightLabel, canvas.width - 5, position - 5);
            });
        }

        // Create an overlay canvas for delete buttons
        const overlayCanvas = document.createElement('canvas');
        overlayCanvas.style.position = 'absolute';
        overlayCanvas.style.top = '0';
        overlayCanvas.style.left = '0';
        overlayCanvas.style.pointerEvents = 'none';
        document.querySelector('.canvas-container').appendChild(overlayCanvas);
        const overlayCtx = overlayCanvas.getContext('2d');
        overlayCanvas.width = canvas.width;
        overlayCanvas.height = canvas.height;

        // Add Person button click handler
        const addPersonBtn = document.getElementById('addPerson');
        addPersonBtn.addEventListener('click', () => {
            const name = document.getElementById('name').value;
            const feet = parseInt(document.getElementById('feet').value) || 0;
            const inches = parseInt(document.getElementById('inches').value) || 0;
            
            const heightInCm = (feet * 30.48) + (inches * 2.54);
            
            if (heightInCm > 0) {
                // Get color from either color picker or selected option or random
                let personColor;
                const activeColorOption = document.querySelector('.color-option.active');
                
                if (selectedColor) {
                    personColor = selectedColor;  // Use color picker value if available
                } else if (activeColorOption) {
                    personColor = activeColorOption.style.backgroundColor;  // Use selected color option
                } else {
                    personColor = getRandomColor();  // Use random color if no color is selected
                }

                const person = {
                    name: name || 'Person ' + (people.length + 1),
                    height: heightInCm,
                    color: personColor,
                    gender: selectedGender
                };

                people.push(person);
                
                // Clear inputs and selections
                document.getElementById('name').value = '';
                document.getElementById('feet').value = '';
                document.getElementById('inches').value = '';
                selectedColor = null;
                
                // Remove active class from color options
                document.querySelectorAll('.color-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // Reset gender selection to male
                document.querySelectorAll('.gender-btn').forEach((btn, index) => {
                    if (index === 0) {
                        btn.classList.add('active');
                        selectedGender = 'male';
                    } else {
                        btn.classList.remove('active');
                    }
                });

                drawPeople();
            }
        });

        // Add color selection handlers
        const colorOptions = document.querySelectorAll('#addPersonContent .color-option');
        colorOptions.forEach(option => {
            option.addEventListener('click', () => {
                colorOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                selectedColor = option.style.backgroundColor;
            });
        });

        // Add color picker handler
        const customColorBtn = document.getElementById('customColorBtn');
        const colorPicker = document.getElementById('colorPicker');

        customColorBtn.addEventListener('click', () => {
            colorPicker.click();
        });

        colorPicker.addEventListener('input', (e) => {
            selectedColor = e.target.value;
            colorOptions.forEach(opt => opt.classList.remove('active'));
        });

        // Add gender selection handlers
        const genderButtons = document.querySelectorAll('#addPersonContent .gender-btn');
        genderButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                genderButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedGender = btn.getAttribute('data-gender');
            });
        });

        // Helper function for random color
        function getRandomColor() {
            const colors = [
                '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD',
                '#D4A5A5', '#9B59B6', '#3498DB', '#E74C3C', '#1ABC9C',
                '#F1C40F', '#2ECC71', '#E67E22', '#9B59B6', '#34495E',
                '#16A085', '#27AE60', '#2980B9', '#8E44AD', '#F39C12'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Initialize canvas size
        function resizeCanvas() {
            const container = document.querySelector('.canvas-container');
            canvas.width = container.offsetWidth - 20;
            canvas.height = container.offsetHeight;
            overlayCanvas.width = canvas.width;
            overlayCanvas.height = canvas.height;
            drawHeightScales();
            drawPeople();
        }

        // Update resize event listener
        window.addEventListener('resize', resizeCanvas);

        // Initialize immediately
        resizeCanvas();

        // Add Clear All functionality
        document.getElementById('clearAll').addEventListener('click', () => {
            // Clear the people array
            people.length = 0;
            
            // Redraw the canvas with just the height scales
            drawHeightScales();
        });

        // Add edit panel HTML to the sidebar
        const addPersonContent = document.getElementById('addPersonContent');
        const editPanelHTML = `
            <div id="editPersonContent" class="content-section d-none">
                <div class="sidebar">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h5 class="mb-0">Edit People</h5>
                        <button class="btn btn-link text-dark p-0" id="closeEditPanel">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div id="editPanelContent">
                        <!-- Edit forms will be dynamically added here -->
                    </div>
                </div>
            </div>
        `;

        // Add the edit panel to the sidebar
        addPersonContent.insertAdjacentHTML('afterend', editPanelHTML);

        // Get references to elements
        const editPersonContent = document.getElementById('editPersonContent');
        const editButton = document.getElementById('editMode');
        const closeEditButton = document.getElementById('closeEditPanel');

        // Add click handler for Edit button
        editButton.addEventListener('click', () => {
            addPersonContent.classList.add('d-none');
            editPersonContent.classList.remove('d-none');
            updateEditPanel();
        });

        // Add click handler for Close button
        closeEditButton.addEventListener('click', () => {
            editPersonContent.classList.add('d-none');
            addPersonContent.classList.remove('d-none');
            drawPeople();
        });

        // Function to update edit panel content
        function updateEditPanel() {
            const editPanelContent = document.getElementById('editPanelContent');
            editPanelContent.innerHTML = '';

            people.forEach((person, index) => {
                const personHTML = `
                    <div class="person-label mb-3" style="background-color: ${person.color}">
                        <div class="d-flex justify-content-between align-items-center p-3">
                            <span>${person.name}</span>
                            <div>
                                <button class="btn btn-link text-white p-0 edit-person-btn" 
                                        data-bs-toggle="collapse" 
                                        data-bs-target="#editForm${index}">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <div class="collapse" id="editForm${index}">
                            <div class="mb-3">
                                <label class="form-label">Name</label>
                                <input type="text" class="form-control" value="${person.name}" 
                                       onchange="updatePersonName(${index}, this.value)">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Height</label>
                                <div class="d-flex gap-2">
                                    <input type="number" class="form-control" placeholder="ft" 
                                           value="${Math.floor(person.height/30.48)}"
                                           onchange="updatePersonHeight(${index}, this.value, 'feet')">
                                    <input type="number" class="form-control" placeholder="in" 
                                           value="${Math.round((person.height/2.54)%12)}"
                                           onchange="updatePersonHeight(${index}, this.value, 'inches')">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Color</label>
                                <div class="d-flex gap-2 align-items-center">
                                    <input type="color" class="form-control form-control-color" 
                                           value="${person.color}"
                                           onchange="updatePersonColor(${index}, this.value)">
                                </div>
                            </div>
                            <button class="btn btn-danger w-100" onclick="deletePerson(${index})">
                                <i class="fas fa-trash-alt me-2"></i>Delete
                            </button>
                        </div>
                    </div>
                `;
                editPanelContent.insertAdjacentHTML('beforeend', personHTML);
            });
        }

        // Functions to update person properties
        function updatePersonName(index, newName) {
            people[index].name = newName;
            drawPeople();
        }

        function updatePersonHeight(index, value, type) {
            const feet = type === 'feet' ? parseFloat(value) : Math.floor(people[index].height/30.48);
            const inches = type === 'inches' ? parseFloat(value) : Math.round((people[index].height/2.54)%12);
            people[index].height = (feet * 30.48) + (inches * 2.54);
            drawPeople();
        }

        function updatePersonColor(index, newColor) {
            people[index].color = newColor;
            drawPeople();
            updateEditPanel(); // Refresh the edit panel to update background colors
        }

        function deletePerson(index) {
            people.splice(index, 1);
            drawPeople();
            updateEditPanel();
        }

        // Draw people function
        async function drawPeople() {
            // Clear delete button areas
            deleteButtonAreas = [];
            
            // Draw grid lines first
            drawHeightScales();
            
            const personWidth = 60;
            const spacing = 40;
            const totalWidth = people.length * (personWidth + spacing) - spacing;
            window.startX = (canvas.width - totalWidth) / 2;
            window.labelAreas = [];
            
            // Draw each person
            for (const [index, person] of people.entries()) {
                const x = window.startX + (index * (personWidth + spacing));
                const pixelHeight = (person.height * canvas.height) / 339;
                const y = canvas.height - pixelHeight;
                
                let svgData;
                
                // Choose SVG based on height and gender
                if (person.height <= 86.36) {
                    svgData = `<?xml version="1.0" encoding="UTF-8"?>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 332.33 881.41">
                            <path fill="${person.color}" d="M228.96,871.62c.92,5.53-3.94,8.74-8.79,8.99-16.4,.84-10.72-15.67-15.92-25.8-4.92-9.58-14.15-14.66-12.56-27.09,.02-.16,.77-3.28,2.24-9.36,1.63-6.74,3.58-13.04,3.35-20.09-.17-5.21-1.66-15.87-4.48-32-2.03-11.59-4.05-23.18-6.05-34.77-1.97-11.36-1.14-22.09-.18-33.47,.04-.45-.19-1.09-.69-1.92-11.41-18.81-19.11-40.02-18.07-62.32,.75-16.16,3.29-31.8,5.52-47.77,.04-.27,.02-.43-.06-.48-.13-.07-.39,.17-.44,.21-.47,.42-4.69,2.25-10.16,3.11-7.37,1.16-12.35-.19-12.97-.79-.05-.05-.37-.38-.55-.29-.11,.05-.16,.26-.13,.62,1.66,18.45,5.74,36.45,4.13,55.7-1.31,15.57-5.86,29.26-13.52,42.59-2.05,3.57-4.18,7.1-6.37,10.58-.23,.37-.3,1.21-.22,2.5,.49,7.75,.66,15.5,.5,23.26-.1,4.72-1.33,12.86-3.7,24.43-3.55,17.35-8.81,35.29-10.56,52.57-1.57,15.54,11.19,27.84,.86,43.41-3.27,4.93-6.15,9.04-8.64,12.33-5.67,7.49-.84,24.84-15.46,25.62-4.66,.24-10.04-2.25-10.88-7.4-.08-.49-.25-.53-.52-.1-2.84,4.5-10.03,10.1-14.48,4.72-.28-.34-.77-.4-1.12-.15-3.77,2.64-7,2.23-9.7-1.23-.2-.25-.45-.32-.74-.21-3.25,1.22-5.8,.52-7.66-2.09-.75-1.05-.56-2.09-.93-3.35-.1-.33-.31-.56-.64-.67-5.61-1.89-5.49-9.68-2.19-13.18,2.17-2.3,4.29-4.33,5.78-7.16,4.73-9.03,8.31-17.43,14.49-25.7,2.98-3.99,4.76-6.71,5.35-8.18,2.53-6.32,1.53-13.5-.45-19.88-2.45-7.87-4.7-15.8-6.77-23.78-5.88-22.67-6.59-46.31-3.92-69.49,.83-7.21,2.35-17.54,4.57-31.01,.87-5.25,1.41-10.91,1.62-16.99,.54-15.57,.28-31.63-3.65-46.27-3.25-12.07-6.36-22.52-7.63-33.82-2.17-19.18-.04-39.05,.92-56.93,.61-11.52,.31-23-.92-34.44-.62-5.82-.81-10.23-.58-13.24,.93-11.66,5.05-23.02,8.75-34.04,.38-1.11,.57-3.23,.44-4.7-.73-8.05-1.85-16.54-1.53-24.41,.04-.93,.71-10.52,.69-10.53-.15-.15-.25-.13-.3,.08-3.87,16.33-8.75,32.37-14.63,48.1-5.28,14.1-9.08,24.39-12.29,37.56-.08,.32-.02,.61,.18,.88,5.88,8.08,9.37,17.32,11.51,27.21,.71,3.27,1.38,5.75,2.01,7.43,1.15,3.01,3.66,7.74,3.64,11.29-.01,3.46-2.49,6.71-6.21,5.81-5.52-1.34-9.59-10.88-12.08-15.77-.54-1.08-1.8-1.58-2.95-1.18-3.26,1.13-4.68,5.36-5.89,8.25-2.62,6.3-2.34,11.76,.63,18.03,1.32,2.8,2.38,3.6,5.55,4.31,5.04,1.13,11.29,2.22,11.56,8.35,.14,3.16-4.6,3.84-6.87,3.87-.67,0-1.22,.5-1.31,1.16-1.27,9.53-14.64,2.65-18.61-.32-5.62-4.21-11.27-9.44-13.78-16.18-1.46-3.93-1.58-10.14-3.17-15.09-2.42-7.51-1.04-15.59,.16-24.51,.82-6.14,1.05-11.49,.21-17.98-.54-4.2-.83-7.09-.87-8.68-.43-18.49,.21-37.57,1.92-57.25,1.4-16.1,4.49-29.28,10.13-45.44,2.91-8.34,5.73-16.71,8.44-25.12,.13-.41-.01-.61-.44-.58l-7.99,.43c-.24,.01-.45-.18-.46-.42,0-.07,.01-.14,.04-.2,5.18-11.09,11.15-20.38,13.85-33.03,3.89-18.2,6.1-30.54,12.32-45.34,5.14-12.25,13.93-25.45,25.89-31.97,1.85-1.01,6.11-2.63,12.77-4.86,16.02-5.36,31.13-11.97,44.48-22.44,.23-.17,.28-.5,.1-.73-.03-.04-.07-.08-.11-.11-7.16-5.17-12.89-11.68-17.19-19.53-3.53-6.45-4.57-16.22-5.14-23.66-.02-.2-.2-.34-.4-.32-.08,0-.16,.04-.21,.1-6.9,7.07-11.34,2.36-14.8-4.33-2.88-5.56-18.5-37.74-8.95-40.93,2.72-.91,5.54-.04,8.47,2.59,.54,.49,.76,.37,.66-.36-.47-3.4-1.37-7.1-1.74-10.39-1.53-13.43-2.79-26.88-3.8-40.35-.23-3.17-1.49-4.95-.36-8.51,2.01-6.32,2.81-13.12,9.34-18.15,.26-.21,.41-.53,.4-.86-.25-6.63,5.01-9.9,8-14.83,1.96-3.22,3.19-4.62,6.59-6.28,.31-.15,.54-.37,.7-.68,2.41-4.59,6.67-9.84,11.51-12.04,2.88-1.3,5.6-3.16,8.72-3.53,1.97-.24,3.63-.06,5.46-1.03,2.75-1.46,5.61-2.68,8.56-3.66,2.24-.75,4.02-2.58,6.44-3.08,3.27-.67,6.86-.95,10.77-.82,.34,.01,.66-.07,.95-.24,2.59-1.47,5.34-2.06,8.26-1.75,5.3,.56,8.41-1.13,13.73,2.37,.27,.18,.58,.28,.9,.29,4.33,.11,11.52-.19,13.33,1.21,3.06,2.36,6.56,2.32,10.17,3.1,3.34,.73,6.4,2.9,9.58,4.37,3.39,1.57,5.96,4.04,9.27,5.88,2.01,1.11,2.53,2.78,4.17,4.01,2.47,1.85,4.47,4.1,5.98,6.76,2.31,4.08,5.73,6.83,7.93,11.07,2.33,4.5,2.63,10.16,5.78,15.15,.6,.95,1.32,2.37,2.15,4.25,1.46,3.32,3.96,4.46,3.94,8.71-.11,20.84-2.82,41.33-8.11,61.48-.14,.53,0,.62,.42,.27,3.03-2.55,7.19-6.76,11.62-4.89,8.28,3.48-5.74,32.23-8.86,38.91-2.26,4.84-4.67,10.72-11.08,8.74-1.28-.39-1.92-1.35-2.76-2.32-.16-.18-.44-.2-.62-.05-.08,.07-.13,.16-.14,.26-2.78,16.75-8.05,30.09-21.16,41.28-.11,.09-.13,.26-.03,.37h0c5.96,6.7,12.8,12.2,20.53,16.5,13.96,7.79,28.84,8.49,41.59,19.66,14.2,12.43,22.06,30.63,24.36,49.07,1.52,12.15,5.28,22.46,11.93,32.82,5.07,7.89,8.39,13.94,10.94,21.95,.09,.28-.07,.58-.34,.67-.06,.02-.12,.03-.19,.02l-9.26-.43c-.38-.02-.5,.15-.35,.5,9.82,23.03,18.65,46.46,20.27,71.71,1.14,17.65,1.72,34.15,1.75,49.51,0,4.71-.52,9.6-1.57,14.66-.79,3.79-.92,8.54-.38,11.59,1.24,6.96,2.15,13.96,2.72,21,.3,3.62-.06,6.01-1.19,9.9-.93,3.21-1.85,7.58-2.74,13.11-1.57,9.77-13.47,18.72-22.05,22.53-4.5,2-9.45,1.56-9.98-4.41-.03-.3-.29-.53-.59-.5h-.03c-3.81,.42-9.27,.09-8.2-5.1,1.14-5.5,5.93-5.87,11.09-7.16,2.57-.64,3.6-2.62,4.88-5.12,2.42-4.72,2.78-9.7,1.08-14.95-.9-2.76-5.6-14.77-9.32-8.58-2.04,3.4-4.21,6.72-6.51,9.95-2.12,2.99-7.64,6.46-11,3.83-5.22-4.08,.85-13.37,2.7-17.62,2.7-6.18,3.32-13.11,6.08-19.32,1.73-3.9,3.88-7.52,6.44-10.87,.48-.62,.7-1.41,.64-2.2-1.07-12.98-5.47-23.88-11.12-37.95-5.35-13.34-10.09-29.8-14.22-49.39-.02-.07-.06-.11-.12-.11h-.05s-.06,.02-.05,.06c.94,13.02-1.84,24.14-4.67,38.26-.26,1.31,.14,4.16,.59,5.82,3.06,11.28,4.91,18.56,5.55,21.83,2.49,12.67-.01,23.13-3.16,36.24-.51,2.15-.13,5.32,.36,7.96,5.89,31.73,1.91,64.33-6.88,95.29-.68,2.4-2.18,8.15-4.49,17.25-2.06,8.1-2.91,15.45-3.06,24.42-.28,16.96,.42,28.31,3.64,45.08,4.63,24.2,5.3,50.69-1.21,74.07-4.32,15.51-10.06,31.39-12.07,47.42-.59,4.66,.51,8.63,3.28,11.9,4.73,5.57,8.65,11.65,11.76,18.24,1.99,4.21,3.92,9.89,6.94,13.39,3.4,3.93,6.75,5.52,5.85,11.73-.37,2.59-1.75,4.35-4.13,5.3-.29,.12-.5,.38-.56,.7-.84,4.74-3.7,6.64-8.57,5.69-.38-.07-.7,.04-.95,.33-3.01,3.46-6.47,3.91-10.38,1.36-.28-.19-.56-.19-.84,0-8.26,5.48-11.93-1.57-15.69-7.41-.3-.47-.4-.43-.31,.12Z"/>
                        </svg>`;
                }

                if (svgData) {
                    const blob = new Blob([svgData], { type: 'image/svg+xml' });
                    const url = URL.createObjectURL(blob);
                    
                    const img = new Image();
                    img.src = url;
                    
                    await new Promise((resolve) => {
                        img.onload = () => {
                            const aspectRatio = img.height / img.width;
                            const drawWidth = personWidth;
                            const drawHeight = pixelHeight;
                            
                            ctx.drawImage(img, x, y, drawWidth, drawHeight);
                            URL.revokeObjectURL(url);
                            resolve();
                        };
                    });
                }
                
                const labelX = x + personWidth/2;
                const labelY = y - 60;
                
                // Draw label
                ctx.fillStyle = '#000000';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                
                const feet = Math.floor(person.height/30.48);
                const inches = Math.round((person.height/2.54)%12);
                const heightText = `${person.name}\n${Math.round(person.height)}cm\n${feet}'${inches}"`;
                const lines = heightText.split('\n');
                lines.forEach((line, i) => {
                    ctx.fillText(line, labelX, labelY + (i * 20));
                });
                
                // Store label area
                window.labelAreas.push({
                    x: labelX - 50,
                    y: labelY - 35,
                    width: 100,
                    height: 85,
                    person: index
                });
            }
        }

        // Function to check if point is within a label area
        function isPointInLabel(x, y) {
            return window.labelAreas.findIndex(area => 
                x >= area.x && x <= area.x + area.width &&
                y >= area.y && y <= area.y + area.height
            );
        }

        // Draw delete/edit buttons on hover
        function drawDeleteButton(labelX, labelY, index) {
            overlayCtx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);
            
            const buttonSize = 24;
            const spacing = 10;
            const totalWidth = buttonSize * 2 + spacing;
            
            // Calculate positions to center both icons
            const startX = labelX - totalWidth/2 - 8;
            const editButtonX = startX;
            const deleteButtonX = startX + buttonSize + spacing;
            const buttonY = labelY - 40;
            
            // Store button areas
            deleteButtonAreas = [
                {
                    x: editButtonX,
                    y: buttonY,
                    width: buttonSize,
                    height: buttonSize,
                    index: index,
                    type: 'edit'
                },
                {
                    x: deleteButtonX,
                    y: buttonY,
                    width: buttonSize,
                    height: buttonSize,
                    index: index,
                    type: 'delete'
                }
            ];

            // Draw pencil icon
            overlayCtx.fillStyle = '#000000';
            overlayCtx.font = 'bold 16px "Font Awesome 5 Free"';
            overlayCtx.textAlign = 'center';
            overlayCtx.textBaseline = 'middle';
            overlayCtx.fillText('\uf044', editButtonX + buttonSize/2, buttonY + buttonSize/2);

            // Draw trash icon
            overlayCtx.fillStyle = '#000000';
            overlayCtx.font = 'bold 16px "Font Awesome 5 Free"';
            overlayCtx.textAlign = 'center';
            overlayCtx.textBaseline = 'middle';
            overlayCtx.fillText('\uf2ed', deleteButtonX + buttonSize/2, buttonY + buttonSize/2);
        }

        // Update click handler to handle both hover icons and edit panel
        canvas.addEventListener('click', (event) => {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            const clickedButton = deleteButtonAreas.find(area => 
                x >= area.x && x <= area.x + area.width &&
                y >= area.y && y <= area.y + area.height
            );
            
            if (clickedButton) {
                if (clickedButton.type === 'delete') {
                    // Handle delete
                    people.splice(clickedButton.index, 1);
                    hoveredLabel = -1;
                    overlayCtx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);
                    drawPeople();
                    if (editPersonContent.classList.contains('d-none') === false) {
                        updateEditPanel();
                    }
                } else if (clickedButton.type === 'edit') {
                    // Switch to edit panel
                    addPersonContent.classList.add('d-none');
                    editPersonContent.classList.remove('d-none');
                    updateEditPanel();
                    
                    // Open the clicked person's edit form
                    const editForm = document.getElementById(`editForm${clickedButton.index}`);
                    if (editForm) {
                        editForm.classList.add('show');
                    }
                }
            }
        });

        // Optimize mousemove handler
        canvas.addEventListener('mousemove', (event) => {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            const labelIndex = isPointInLabel(x, y);
            if (labelIndex !== hoveredLabel) {
                hoveredLabel = labelIndex;
                if (labelIndex !== -1) {
                    const labelX = window.startX + (labelIndex * (60 + 40)) + 30; // personWidth/2
                    const labelY = canvas.height - (people[labelIndex].height * canvas.height / 339) - 60;
                    drawDeleteButton(labelX, labelY, labelIndex);
                } else {
                    overlayCtx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);
                    deleteButtonAreas = [];
                }
            }
        });

        // Add mouseout handler
        canvas.addEventListener('mouseout', () => {
            hoveredLabel = -1;
            overlayCtx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);
            deleteButtonAreas = [];
        });

        // Initialize immediately
        resizeCanvas();

        // Add styles for suggestions dropdown
        const style = document.createElement('style');
        style.textContent = `
            .suggestion-dropdown {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: white;
                border: 1px solid #ddd;
                border-radius: 4px;
                max-height: 200px;
                overflow-y: auto;
                z-index: 1000;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .suggestion-item {
                padding: 8px 12px;
                cursor: pointer;
                border-bottom: 1px solid #eee;
            }
            .suggestion-item:hover {
                background: #f5f5f5;
            }
            .suggestion-item .name {
                font-weight: 500;
            }
            .suggestion-item .details {
                font-size: 0.8em;
                color: #666;
            }
        `;
        document.head.appendChild(style);

        // Add debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Celebrity search functionality
        const celebrityNameInput = document.getElementById('celebrityName');
        const suggestionsList = document.getElementById('celebritySuggestions');
        let selectedCelebrity = null;

        const fetchCelebrities = async (searchTerm) => {
            try {
                const response = await fetch(`https://api-v2.heightcomparison.com/celebrities?search=${encodeURIComponent(searchTerm)}`);
                const data = await response.json();
                return data.items;
            } catch (error) {
                console.error('Error fetching celebrities:', error);
                return [];
            }
        };

        const showSuggestions = (celebrities) => {
            if (celebrities.length === 0) {
                suggestionsList.classList.add('d-none');
                return;
            }

            suggestionsList.innerHTML = celebrities.map(celebrity => `
                <div class="suggestion-item" data-celebrity='${JSON.stringify(celebrity)}'>
                    <div class="name">${celebrity.name}</div>
                    <div class="details">
                        Height: ${celebrity.height}cm | 
                        ${celebrity.gender === 'm' ? 'Male' : 'Female'} | 
                        ${celebrity.category}
                    </div>
                </div>
            `).join('');

            suggestionsList.classList.remove('d-none');
        };

        const debouncedSearch = debounce(async (searchTerm) => {
            if (searchTerm.length < 2) {
                suggestionsList.classList.add('d-none');
                return;
            }
            const celebrities = await fetchCelebrities(searchTerm);
            showSuggestions(celebrities);
        }, 300);

        celebrityNameInput.addEventListener('input', (e) => {
            selectedCelebrity = null;
            debouncedSearch(e.target.value);
        });

        suggestionsList.addEventListener('click', (e) => {
            const suggestionItem = e.target.closest('.suggestion-item');
            if (suggestionItem) {
                selectedCelebrity = JSON.parse(suggestionItem.dataset.celebrity);
                celebrityNameInput.value = selectedCelebrity.name;
                suggestionsList.classList.add('d-none');
            }
        });

        // Hide suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!celebrityNameInput.contains(e.target) && !suggestionsList.contains(e.target)) {
                suggestionsList.classList.add('d-none');
            }
        });

        // Add celebrity color selection handlers
        const celebrityColorOptions = document.querySelectorAll('#celebritiesContent .color-option');
        let selectedCelebrityColor = null;

        celebrityColorOptions.forEach(option => {
            option.addEventListener('click', () => {
                celebrityColorOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                selectedCelebrityColor = option.style.backgroundColor;
            });
        });

        // Add celebrity color picker handler
        const celebrityCustomColorBtn = document.getElementById('celebrityCustomColorBtn');
        const celebrityColorPicker = document.getElementById('celebrityColorPicker');

        celebrityCustomColorBtn.addEventListener('click', () => {
            celebrityColorPicker.click();
        });

        celebrityColorPicker.addEventListener('input', (e) => {
            selectedCelebrityColor = e.target.value;
            celebrityColorOptions.forEach(opt => opt.classList.remove('active'));
        });

        // Update add celebrity button handler
        const addCelebrityBtn = document.getElementById('addCelebrity');
        addCelebrityBtn.addEventListener('click', () => {
            if (!selectedCelebrity) {
                alert('Please select a celebrity from the suggestions');
                return;
            }

            // Get color from either color picker or selected option or random
            let celebrityColor;
            const activeColorOption = document.querySelector('#celebritiesContent .color-option.active');
            
            if (selectedCelebrityColor) {
                celebrityColor = selectedCelebrityColor;
            } else if (activeColorOption) {
                celebrityColor = activeColorOption.style.backgroundColor;
            } else {
                celebrityColor = getRandomColor();
            }

            const celebrity = {
                name: selectedCelebrity.name,
                height: parseFloat(selectedCelebrity.height),
                color: celebrityColor,
                gender: selectedCelebrity.gender === 'm' ? 'male' : 'female'
            };

            people.push(celebrity);
            
            // Clear inputs and selections
            celebrityNameInput.value = '';
            selectedCelebrity = null;
            selectedCelebrityColor = null;
            
            // Remove active class from color options
            celebrityColorOptions.forEach(opt => {
                opt.classList.remove('active');
            });

            // Switch back to main view and draw
            navItems[0].click();
            drawPeople();
        });

        // Add navigation functionality
        const navItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');

        // Add navigation click handlers
        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Nav item clicked:', item.getAttribute('data-target'));
                
                // Remove active class from all items
                navItems.forEach(nav => nav.classList.remove('active'));
                
                // Add active class to clicked item
                item.classList.add('active');
                
                // Hide all content sections
                contentSections.forEach(section => {
                    console.log('Hiding section:', section.id);
                    section.classList.add('d-none');
                });
                
                // Show the selected content section
                const targetId = item.getAttribute('data-target') + 'Content';
                console.log('Showing section:', targetId);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.remove('d-none');
                } else {
                    console.error('Target section not found:', targetId);
                }
            });
        });

        // Log initial state
        console.log('Found nav items:', navItems.length);
        console.log('Found content sections:', contentSections.length);

        // Make sure Add Person tab is active by default
        const defaultTab = document.querySelector('.nav-item[data-target="addPerson"]');
        if (defaultTab) {
            defaultTab.classList.add('active');
            document.getElementById('addPersonContent').classList.remove('d-none');
            document.getElementById('celebritiesContent').classList.add('d-none');
        } else {
            console.error('Default tab not found');
        }

        // Add specific handler for celebrities tab
        const celebritiesTab = document.querySelector('.nav-item[data-target="celebrities"]');
        if (celebritiesTab) {
            celebritiesTab.addEventListener('click', () => {
                // Remove active class from all items
                navItems.forEach(nav => nav.classList.remove('active'));
                
                // Add active class to celebrities tab
                celebritiesTab.classList.add('active');
                
                // Hide all content sections
                contentSections.forEach(section => {
                    section.classList.add('d-none');
                });
                
                // Show celebrities content
                const celebritiesContent = document.getElementById('celebritiesContent');
                if (celebritiesContent) {
                    celebritiesContent.classList.remove('d-none');
                }
            });
        }

        // Add specific handler for add person tab
        const addPersonTab = document.querySelector('.nav-item[data-target="addPerson"]');
        if (addPersonTab) {
            addPersonTab.addEventListener('click', () => {
                // Remove active class from all items
                navItems.forEach(nav => nav.classList.remove('active'));
                
                // Add active class to add person tab
                addPersonTab.classList.add('active');
                
                // Hide all content sections
                contentSections.forEach(section => {
                    section.classList.add('d-none');
                });
                
                // Show add person content
                const addPersonContent = document.getElementById('addPersonContent');
                if (addPersonContent) {
                    addPersonContent.classList.remove('d-none');
                }
            });
        }
    </script>
</body>
</html>